<p id="notice"><%= notice %></p>

<h2>Categories</h2>

<table class="table">
  <thead>
  <tr>
    <th>ID</th>
    <th>Title</th>
    <th>Color</th>
    <th>Color Code</th>
    <th>Created At</th>
    <th>Updated At</th>
    <th>Tasks</th>
    <th colspan="7"></th>
  </tr>
  </thead>

  <tbody>
  <% @categories.each do |category| %>
    <tr>
      <td><%= category.id %></td>
      <td><%= category.title %></td>
      <td>
        <% unless category.color.blank? %>
          <div class="color-box" style="background-color: <%= category.color %>;"></div>
        <% else %>
          <strong>no Color</strong>
        <% end %>
      </td>
      <td>
        <% unless category.color.blank? %>
          <%= category.color %>
        <% else %>
          <strong>no Color Code</strong>
        <% end %>
      </td>
      <td><%= category.created_at.strftime('%d.%m.%Y - %H:%M') %></td>
      <td><%= category.updated_at.strftime('%d.%m.%Y - %H:%M') %></td>
      <td><%= category.tasks.count.to_i %></td>
      <td>
        <%= link_to 'Detail', category, class: "btn btn-dark" %>
      </td>
      <td>
        <%= link_to 'Edit', edit_category_path(category), class: "btn btn-success" %>
      </td>
      <td>
        <%= link_to 'Destroy', category, method: :delete, data: {confirm: 'Are you sure?'}, class: "btn btn-danger" %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<hr>
<%= link_to 'New Category', new_category_path, class: "btn btn-primary" %>

<br><br>